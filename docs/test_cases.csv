TestID,Description,Preconditions,Steps,ExpectedResult
AUTH-001,Verify database and initial admin user creation on first run,Application has never been run; no 'users.db' file exists in the project root.,1. Start the Streamlit application via 'streamlit run src/app.py'.,1. A 'users.db' file is created in the project root. 2. The Streamlit console output displays "No users found, adding default admin user..." and "Default admin user created: username='admin', password='password123'". 3. The application loads without errors.
AUTH-002,Verify 'users' table schema,Application has never been run; no 'users.db' file exists.,1. Start the Streamlit application. 2. Use a SQLite browser (e.g., DB Browser for SQLite) to open 'users.db'. 3. Inspect the 'users' table schema.,1. The 'users' table exists. 2. The 'users' table has columns: 'id' (INTEGER PRIMARY KEY AUTOINCREMENT), 'username' (TEXT NOT NULL UNIQUE), 'email' (TEXT NOT NULL UNIQUE), 'password_hash' (TEXT NOT NULL), 'role' (TEXT NOT NULL DEFAULT 'user'), 'created_at' (TIMESTAMP DEFAULT CURRENT_TIMESTAMP).
AUTH-003,Verify default admin user can log in,Application has just been started for the first time, or 'admin' user exists in 'users.db' with password 'password123'.,1. Navigate to the login form. 2. Enter "admin" for username. 3. Enter "password123" for password. 4. Click the "Login" button.,1. A success message "Logged in successfully as admin (admin)!" is displayed. 2. The sidebar displays "Welcome, admin!" and "Role: admin". 3. The main application area displays "You are securely logged in as admin." and "Your role is: admin." 4. The main application area displays "Your email is: admin@example.com".
AUTH-004,Verify successful user registration,Application is running. No user with username 'testuser' or email 'test@example.com' exists.,1. Navigate to the signup form. 2. Enter "testuser" for username. 3. Enter "test@example.com" for email. 4. Enter "testpass" for password. 5. Click the "Sign Up" button.,1. A success message "User 'testuser' registered successfully." is displayed. 2. The signup form clears or resets.
AUTH-005,Verify new user can log in,User 'testuser' with password 'testpass' and email 'test@example.com' has been successfully registered.,1. Navigate to the login form. 2. Enter "testuser" for username. 3. Enter "testpass" for password. 4. Click the "Login" button.,1. A success message "Logged in successfully as testuser (user)!" is displayed. 2. The sidebar displays "Welcome, testuser!" and "Role: user". 3. The main application area displays "You are securely logged in as testuser." and "Your role is: user." 4. The main application area displays "Your email is: test@example.com".
AUTH-006,Verify user persistence after app restart,User 'testuser' with password 'testpass' exists in 'users.db'.,1. Ensure no user is logged in (or log out if logged in). 2. Restart the Streamlit application. 3. Navigate to the login form. 4. Enter "testuser" for username. 5. Enter "testpass" for password. 6. Click the "Login" button.,1. The application starts without errors. 2. The user 'testuser' successfully logs in, and their details are displayed correctly, confirming their account persisted.
AUTH-007,Verify login with incorrect password,User 'testuser' with password 'testpass' exists.,1. Navigate to the login form. 2. Enter "testuser" for username. 3. Enter "wrongpass" for password. 4. Click the "Login" button.,1. An error message "Incorrect username or password" is displayed. 2. The user remains on the login form and is not logged in.
AUTH-008,Verify login with non-existent username,Application is running. No user 'nonexistent' exists.,1. Navigate to the login form. 2. Enter "nonexistent" for username. 3. Enter "anypass" for password. 4. Click the "Login" button.,1. An error message "Incorrect username or password" is displayed. 2. The user remains on the login form and is not logged in.
AUTH-009,Verify signup with existing username,User 'testuser' already exists in 'users.db'.,1. Navigate to the signup form. 2. Enter "testuser" for username. 3. Enter "newemail@example.com" for email. 4. Enter "newpass" for password. 5. Click the "Sign Up" button.,1. A warning message "Username 'testuser' already exists. Please choose a different one." is displayed. 2. The user remains on the signup form.
AUTH-010,Verify signup with existing email,User 'testuser' with email 'test@example.com' already exists in 'users.db'.,1. Navigate to the signup form. 2. Enter "anotheruser" for username. 3. Enter "test@example.com" for email. 4. Enter "anotherpass" for password. 5. Click the "Sign Up" button.,1. A warning message "Email 'test@example.com' already exists. Please use a different one." is displayed. 2. The user remains on the signup form.
AUTH-011,Verify signup with empty username,Application is running.,1. Navigate to the signup form. 2. Leave username field empty. 3. Enter "test@example.com" for email. 4. Enter "testpass" for password. 5. Click the "Sign Up" button.,1. A warning message "Username, email, and password cannot be empty." (or similar validation error) is displayed. 2. The user remains on the signup form.
AUTH-012,Verify signup with empty password,Application is running.,1. Navigate to the signup form. 2. Enter "testuser2" for username. 3. Enter "test2@example.com" for email. 4. Leave password field empty. 5. Click the "Sign Up" button.,1. A warning message "Username, email, and password cannot be empty." (or similar validation error) is displayed. 2. The user remains on the signup form.
AUTH-013,Verify signup with empty email,Application is running.,1. Navigate to the signup form. 2. Enter "testuser3" for username. 3. Leave email field empty. 4. Enter "testpass3" for password. 5. Click the "Sign Up" button.,1. A warning message "Username, email, and password cannot be empty." (or similar validation error) is displayed. 2. The user remains on the signup form.
AUTH-014,Verify logout functionality,User 'testuser' is logged in.,1. Click the "Logout" button in the sidebar.,1. The application returns to the login/signup view. 2. No user information is displayed in the sidebar or main content. 3. The success message "Logged out successfully." (if implemented) or the login/signup form is displayed.
AUTH-015,Verify role display for admin user,User 'admin' with role 'admin' is logged in.,1. Log in as 'admin' with password 'password123'.,1. The sidebar correctly displays "Role: admin". 2. The main application area correctly displays "Your role is: admin."
AUTH-016,Verify role display for regular user,User 'testuser' with role 'user' is logged in.,1. Log in as 'testuser' with password 'testpass'.,1. The sidebar correctly displays "Role: user". 2. The main application area correctly displays "Your role is: user."